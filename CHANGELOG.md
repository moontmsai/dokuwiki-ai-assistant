# Changelog

All notable changes to the DokuWiki AI Assistant plugin will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.2.0] - 2024-12-20

### Added ✨
- **요청사항 기능**: `요청사항:내용` 형태로 맞춤 수정 요청 가능
  - AI가 특정 요청사항을 반영하여 텍스트 수정
  - 최종 결과에서 "요청사항:" 부분 자동 제거
  - 일반 최적화와 별도의 맞춤형 프롬프트 처리
- **설정 가능한 컨텍스트 길이**: 앞뒤 참고 범위를 100-2000글자로 조정 가능
- **툴바 버튼 위치 제어**: 우선순위 설정으로 버튼 위치 조정 가능
- **향상된 설정 UI**: 새로운 설정 항목들과 상세한 설명 추가

### Improved 🔧
- **다단계 텍스트 검증**: JavaScript와 PHP에서 이중 검증
- **오류 처리 강화**: 더 친화적이고 구체적인 오류 메시지
- **성능 최적화**: 불필요한 API 호출 방지
- **사용자 경험**: 요청사항 감지 시 맞춤형 로딩 메시지 표시

### Fixed 🐛
- 빈 텍스트 선택 시 즉시 차단하여 불필요한 API 호출 방지
- UTF-8 인코딩 문제 해결
- AI 응답에서 불필요한 마커 제거 로직 강화

## [1.1.0] - 2024-12-19

### Added ✨
- **키보드 단축키**: Ctrl+Alt+A로 AI 기능 실행
- **전체 텍스트 모드**: 선택하지 않으면 전체 텍스트 처리 옵션
- **향상된 미리보기**: 원본과 개선된 텍스트 비교 UI

### Improved 🔧
- **안정성 향상**: 중복 요청 방지 및 오류 처리 개선
- **성능 최적화**: 캐시 무력화 및 스크립트 로딩 개선
- **사용자 인터페이스**: 더 직관적인 모달 디자인

### Fixed 🐛
- 툴바 버튼 중복 이벤트 바인딩 문제 해결
- 브라우저 호환성 개선 (ES5 문법 준수)

## [1.0.0] - 2024-12-18

### Added ✨
- **OpenAI API 통합**: GPT 모델을 활용한 텍스트 개선
- **DokuWiki 문법 최적화**: 공식 문법에 맞는 자동 포맷팅
  - 목록 문법 변환 (`1. 항목` → `  * 항목`)
  - 들여쓰기 일관성 확보
  - 기존 DokuWiki 문법 보존
- **컨텍스트 인식 처리**: 앞뒤 500글자씩 참고하여 정확한 개선
- **다국어 지원**: 한국어/영어 설정 인터페이스
- **보안 기능**: API 키 암호화 저장 및 입력 검증

### Features 🎯
- **편집기 통합**: 툴바에 AI 버튼 자동 추가
- **실시간 미리보기**: 변경 전후 비교 가능
- **모델 선택**: 5가지 GPT 모델 지원
  - gpt-3.5-turbo (경제적)
  - gpt-4 (고품질)
  - gpt-4-turbo (균형형)
  - gpt-4o (최신)
  - gpt-4o-mini (추천)
- **설정 가능**: 토큰 수, 온도, 모델 등 조정 가능

### Technical 🔧
- **다단계 검증**: 클라이언트와 서버 양쪽에서 입력 검증
- **오류 처리**: 친화적인 오류 메시지 및 복구 가이드
- **성능 최적화**: 효율적인 API 호출 및 캐싱
- **호환성**: DokuWiki 2023-04-04+ 지원

---

## 개발 정보

### 지원되는 DokuWiki 버전
- **최소 버전**: 2023-04-04 "Jack Jackrum"
- **권장 버전**: 최신 안정 버전
- **테스트 완료**: 2023-04-04, 2024-02-06

### 지원되는 PHP 버전
- **최소 버전**: PHP 7.4
- **권장 버전**: PHP 8.0+
- **테스트 완료**: PHP 7.4, 8.0, 8.1, 8.2

### 브라우저 호환성
- **Chrome**: 90+
- **Firefox**: 88+
- **Safari**: 14+
- **Edge**: 90+

## 마이그레이션 가이드

### 1.1.x → 1.2.0
- 새로운 설정 항목 추가: `toolbar_priority`, `context_length`
- 기존 설정 유지, 추가 설정 없이 업그레이드 가능
- 새 기능(요청사항) 사용을 위한 추가 설정 불필요

### 1.0.x → 1.1.0
- 기존 설정 완전 호환
- 새로운 키보드 단축키 자동 활성화
- 캐시 클리어 권장 (브라우저 새로고침)

---

## 기여자

- **moontwt** - 초기 개발 및 메인테넌스
- **커뮤니티** - 피드백 및 테스트

## 라이선스

MIT License - 자세한 내용은 [LICENSE](LICENSE) 파일 참조